/* artoo.js - The client-side scraping companion. - Version: 0.1.1 - Author: Yomguithereal - medialab SciencesPo */
(function(){"use strict";var a={$:{},jquery:{plugins:[]},version:"0.1.1"};this.artoo=a}).call(this),function(a){function b(b){function c(a){var c,d=b(a.ownerDocument);return a=b(a),c=a.offset(),{x:c.left+a.outerWidth()/2-d.scrollLeft(),y:c.top+a.outerHeight()/2-d.scrollTop()}}var d=/^key/,e=/^(?:mouse|contextmenu)|click/;b.fn.simulate=function(a,c){return this.each(function(){new b.simulate(this,a,c)})},b.simulate=function(a,c,d){var e=b.camelCase("simulate-"+c);this.target=a,this.options=d,this[e]?this[e]():this.simulateEvent(a,c,d)},b.extend(b.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),b.extend(b.simulate.prototype,{simulateEvent:function(a,b,c){var d=this.createEvent(b,c);this.dispatchEvent(a,b,d,c)},createEvent:function(a,b){return d.test(a)?this.keyEvent(a,b):e.test(a)?this.mouseEvent(a,b):void 0},mouseEvent:function(c,d){var e,f,g,h;return d=b.extend({bubbles:!0,cancelable:"mousemove"!==c,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:a},d),document.createEvent?(e=document.createEvent("MouseEvents"),e.initMouseEvent(c,d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget||document.body.parentNode),0===e.pageX&&0===e.pageY&&Object.defineProperty&&(f=e.relatedTarget.ownerDocument||document,g=f.documentElement,h=f.body,Object.defineProperty(e,"pageX",{get:function(){return d.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0)}}),Object.defineProperty(e,"pageY",{get:function(){return d.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0)}}))):document.createEventObject&&(e=document.createEventObject(),b.extend(e,d),e.button={0:1,1:4,2:2}[e.button]||e.button),e},keyEvent:function(c,d){var e;if(d=b.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:a},d),document.createEvent)try{e=document.createEvent("KeyEvents"),e.initKeyEvent(c,d.bubbles,d.cancelable,d.view,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode)}catch(f){e=document.createEvent("Events"),e.initEvent(c,d.bubbles,d.cancelable),b.extend(e,{view:d.view,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey,keyCode:d.keyCode,charCode:d.charCode})}else document.createEventObject&&(e=document.createEventObject(),b.extend(e,d));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(e.keyCode=d.charCode>0?d.charCode:d.keyCode,e.charCode=a),e},dispatchEvent:function(a,b,c){a[b]?a[b]():a.dispatchEvent?a.dispatchEvent(c):a.fireEvent&&a.fireEvent("on"+b,c)},simulateFocus:function(){function a(){d=!0}var c,d=!1,e=b(this.target);e.bind("focus",a),e[0].focus(),d||(c=b.Event("focusin"),c.preventDefault(),e.trigger(c),e.triggerHandler("focus")),e.unbind("focus",a)},simulateBlur:function(){function a(){d=!0}var c,d=!1,e=b(this.target);e.bind("blur",a),e[0].blur(),setTimeout(function(){e[0].ownerDocument.activeElement===e[0]&&e[0].ownerDocument.body.focus(),d||(c=b.Event("focusout"),c.preventDefault(),e.trigger(c),e.triggerHandler("blur")),e.unbind("blur",a)},1)}}),b.extend(b.simulate.prototype,{simulateDrag:function(){var a=0,b=this.target,d=this.options,e=c(b),f=Math.floor(e.x),g=Math.floor(e.y),h=d.dx||0,i=d.dy||0,j=d.moves||3,k={clientX:f,clientY:g};for(this.simulateEvent(b,"mousedown",k);j>a;a++)f+=h/j,g+=i/j,k={clientX:Math.round(f),clientY:Math.round(g)},this.simulateEvent(document,"mousemove",k);this.simulateEvent(b,"mouseup",k),this.simulateEvent(b,"click",k)}})}artoo.jquery.plugins.push(b)}.call(this),function(){"use strict";var a="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";artoo.beep=function(){new Audio("data:audio/ogg;base64,"+a).play()}}.call(this),function(){"use strict";artoo.settings={autoInit:!0,autoExec:!0,chromeExtension:!1,debug:!1,scriptUrl:null,eval:null,reload:!1,cache:{delimiter:"%"},dependencies:[],instructions:{autoRecord:!0},jquery:{version:"2.1.1",force:!1},log:{beeping:!1,enabled:!0,level:"verbose"},store:{engine:"local"}},artoo.loadSettings=function(a){artoo.settings=artoo.helpers.extend(a,artoo.settings)}}.call(this),function(){"use strict";function a(){var b,c,d={},e=arguments.length;for(b=e-1;b>=0;b--)for(c in arguments[b])d[c]=d[c]&&g(arguments[b][c])?a(arguments[b][c],d[c]):arguments[b][c];return d}function b(){}function c(a,b){var c,d,e=a;if(0>=b)return"";for(d=1,c=0|b;c>d;d++)e+=a;return e}function d(a){return a instanceof Array}function e(a){return a instanceof Object}function f(a){return isNaN(a)&&"number"==typeof a}function g(a){return a instanceof Object&&!(a instanceof Array)&&!(a instanceof Function)}function h(a){return g(a)||d(a)}function i(a){return!h(a)}function j(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return a[c]}function k(a,b){return b=b||Object.keys(a),b.map(function(b){return a[b]})}function l(a){var b,c,d,e=[];for(d=0,b=a.length;b>d;d++)for(c in a[d])~e.indexOf(c)||e.push(c);return e}function m(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function n(a,b){b=b||{};var c,d=b.headers||[],e=g(a[0]),f=e&&(b.order||l(a)),h=b.escape||'"',i=b.delimiter||",";return d.length||e&&b.headers!==!1&&(d=f),c=(d.length?[d]:[]).concat(e?a.map(function(a){return k(a,f)}):a),c.map(function(a){return a.map(function(a){var b=(""+("undefined"==typeof a?"":a)).replace(new RegExp(m(h),"g"),h+h);return~b.indexOf(i)||~b.indexOf(h)?h+b+h:b}).join(i)}).join("\n")}function o(a,b,c){if("string"==typeof a)return D.string(a);if("number"==typeof a)return D.number(a);if("boolean"==typeof a)return D.boolean(a);if("undefined"==typeof a||null===a||f(a))return D.nullValue(a);if(g(a))return D.object(a,b,c);if(d(a))return D.array(a,b);if("function"==typeof a)return D.fn(a);throw TypeError("artoo.helpers.toYAMLString: wrong type.")}function p(a){return"---\n"+o(a)}function q(a){return artoo.$&&a instanceof artoo.$||jQuery&&a instanceof jQuery||$&&a instanceof $}function r(a){return a instanceof HTMLDocument||a instanceof XMLDocument}function s(a){var b=artoo.$;if("string"!=typeof a)return b(a);try{return b(b.parseXML(a).documentElement)}catch(c){try{return b(t().documentElement).append(a)}catch(c){return b(a)}}}function t(a,b){return a?document.implementation.createDocument(b||null,a,null):document.implementation.createHTMLDocument()}function u(a,b,c){if(b=b||"js","js"!==b&&"css"!==b)throw TypeError('artoo.getExternal: invalid type "'+b+'".');var d=document.createElement("js"===b?"script":"link"),e=document.getElementsByTagName("head")[0];d["js"===b?"src":"href"]=a,"css"===b&&(d.type="text/css",d.rel="stylesheet"),d.onload=d.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(d.onload=d.onreadystatechange=null,"js"===b&&e.removeChild(d),"function"==typeof c&&c())},e.appendChild(d)}function v(){var a,b=Object.getPrototypeOf(B),c={};for(a in B)~a.indexOf("webkit")||a in b||B[a]===B||B[a]instanceof BarProp||B[a]instanceof Navigator||~E.indexOf(a)||(c[a]=B[a]);return c}function w(a,b,c){c=c||{},"object"==typeof b&&(c=b,b=c.done);var d=c.interval||30,e=0,f=setInterval(function(){a()&&(b(),clearInterval(f)),c.timeout&&c.timeout-e*d<=0&&(b(!1),clearInterval(f)),e++},d)}function x(){var a=Array.prototype.slice.call(arguments);return setTimeout.apply(null,[a[0],0].concat(a.slice(1)))}function y(a,c,d){function e(){k.forEach(function(a){clearTimeout(a)})}function f(b,c){return l.push(c),b?(e(),j(b,l)):++m>=a.length?j(null,l):(g=a[i++],void k.push(x(g,f)))}var g,h,i,j="function"==typeof c?c:c.done||d,k=[],l=[],m=0;for("function"!=typeof j&&(j=b),i=0,h=c.limit||a.length;h>i;i++)g=a[i],k.push(x(g,f))}function z(a){var b=a.split(".");return 1===b.length||""===b[0]&&2===b.length?"":b.pop()}function A(a){var b=artoo.$(a),c=F[z(b.attr("src"))||"png"],d=document.createElement("canvas");d.width=b[0].naturalWidth,d.height=b[0].naturalHeight;var e=d.getContext("2d");e.drawImage(b[0],0,0);var f=d.toDataURL(c);return d=null,f}var B=this,C=/[:#,\-\[\]\{\}&%]|!{1,2}/,D={string:function(a){return~a.search(C)?"'"+a.replace(/'/g,"''")+"'":a},number:function(a){return""+a},array:function(a,b){if(b=b||0,!a.length)return"[]";var d,e,f="";for(e=0,d=a.length;d>e;e++)f+=c("  ",b),f+=i(a[e])?"- "+o(a[e])+"\n":g(a[e])?"-"+o(a[e],b+1,!0):o(a[e],b+1);return f},object:function(a,b,d){if(b=b||0,!Object.keys(a).length)return(b?"- ":"")+"{}";var e,f,g="",i=0;for(f in a)e=D.string(f),g+=c("  ",b),d&&!i&&(g=g.slice(0,-1)),g+=e+": "+(h(a[f])?"\n":"")+o(a[f],b+1)+"\n",i++;return g},fn:function(a){return D.string(a.toString())},"boolean":function(a){return""+a},nullValue:function(){return"~"}},E=["__commandLineAPI","applicationCache","chrome","closed","console","crypto","CSS","defaultstatus","defaultStatus","devicePixelRatio","document","external","frameElement","history","indexedDB","innerHeight","innerWidth","length","localStorage","location","name","offscreenBuffering","opener","outerHeight","outerWidth","pageXOffset","pageYOffset","performance","screen","screenLeft","screenTop","screenX","screenY","scrollX","scrollY","sessionStorage","speechSynthesis","status","styleMedia"],F={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};artoo.injectScript=function(a,b){u(a,"js",b)},artoo.injectStyle=function(a,b){u(a,"css",b)},artoo.waitFor=w,artoo.getGlobalVariables=v,artoo.helpers={createDocument:t,extend:a,first:j,getExtension:z,imgToDataUrl:A,isArray:d,isDocument:r,isObject:e,isPlainObject:g,isRealNaN:f,isSelector:q,isNonScalar:h,isScalar:i,jquerify:s,noop:b,parallel:y,toCSVString:n,toYAMLString:p}}.call(this),function(){"use strict";var a=["init","countermeasures","exec","ready"];artoo.hooks={trigger:function(a){if(!artoo.hooks[a])throw Error("artoo.hooks.trigger: inexistant hook");artoo.hooks[a].forEach(function(a){a.apply(artoo)})}},a.forEach(function(a){artoo.hooks[a]=[]}),artoo.ready=function(a){if("function"!=typeof a)throw Error("artoo.ready: trying to register a non-function.");artoo.hooks.ready.push(a)}}.call(this),function(){"use strict";function a(){var a=!0;for(var c in b.console.__proto__){a=!1;break}return a}var b=this,c="navigator"in b;artoo.browser={chrome:"chrome"in b,firefox:c&&!!~navigator.userAgent.search(/firefox/i)},artoo.browser.which=artoo.helpers.first(Object.keys(artoo.browser),function(a){return artoo.browser[a]})||null,artoo.browser.firebug=a()}.call(this),function(a){"use strict";function b(a,b){return Array.prototype.slice.call(a,b||0)}function c(a){return artoo.helpers.isArray(h.level)?!!~h.level.indexOf(a):j.indexOf(a)>=j.indexOf(h.level)}function d(){return[(g?" ":"")+'  .-""-.   ',"  /[] _ _\\  "," _|_o_LII|_ ","/ | ==== | \\","|_| ==== |_|"," ||LI  o ||"," ||'----'||","/__|    |__\\"]}function e(a){var b=["[artoo]: "+(g?"%c"+a:"")];return g&&b.push("color: "+i[a]+";"),b.push("-"+(g?"":" ")),b}function f(a){artoo.log[a]=function(){artoo.log.apply(artoo.log,[a].concat(b(arguments)))}}var g=artoo.browser.chrome||artoo.browser.firebug,h=artoo.settings.log,i={verbose:"#33CCFF",debug:"#000099",info:"#009900",warning:"orange",error:"red"},j=["verbose","debug","info","warning","error"];artoo.log=function(d){if(h.enabled){var f=i[d]!==a,j=f?1:0,k=b(arguments,j);if(d=f?d:"debug",c(d)){var l=e(d).concat(k);console.log.apply(console,g?l:[l.reduce(function(a,b){return a+b},"")])}}};for(var k in i)f(k);artoo.log.plain=function(){h.enabled&&console.log.apply(console,arguments)},artoo.log.welcome=function(){if(h.enabled){var a=d();a[a.length-2]=a[a.length-2]+"    artoo",console.log(a.join("\n")+"   v"+artoo.version)}}}.call(this),function(){"use strict";var a=this;artoo.deps={};var b={async:{url:"//cdnjs.cloudflare.com/ajax/libs/async/0.9.0/async.js",variable:"async"},lodash:{url:"//cdn.jsdelivr.net/lodash/2.4.1/lodash.min.js",variable:"_"},underscore:{url:"//cdn.jsdelivr.net/underscorejs/1.6.0/underscore-min.js",variable:"_"}};artoo.deps.inject=function(c){var d=artoo.settings.dependencies;if(!d.length)return c();artoo.log.verbose("Starting to retrieve dependencies...",d);var e=d.map(function(c){var d="string"==typeof c?c:c.name,e=c.url||b[d].url;if(!(d in b))throw Error("Trying to load an unsupported dependency: "+d);return function(c){var f=b[d].variable,g=f in a;artoo.injectScript(e,function(){return g?(artoo.log.warning(d+" already exists within your page. By precaution, artoo stashed it under artoo.deps."+f),artoo.deps[f]=a[f].noConflict(),c()):(artoo.log.info(d+" was correctly injected into your page."),artoo.deps[f]=a[f],void c())})}});artoo.helpers.parallel(e,function(){artoo.log.verbose("Finished retrieving dependencies."),c()})},artoo.jquery.inject=function(b){var c=artoo.settings.jquery.version,d="//code.jquery.com/jquery-"+c+".min.js",e="undefined"!=typeof jQuery,f=!e&&"function"==typeof $,g=e?jQuery.fn.jquery:"0";e&&g.charAt(0)===c.charAt(0)?(artoo.log.verbose("jQuery already exists in this page (v"+g+"). No need to load it again."),artoo.$=jQuery,b()):artoo.settings.jquery.force?artoo.injectScript(d,function(){artoo.log.warning("According to your settings, jQuery (v"+c+") was injected into your page to replace the current $ variable."),artoo.$=jQuery,b()}):e&&"2"!==g.charAt(0)||f?artoo.injectScript(d,function(){artoo.$=jQuery.noConflict(!0),"undefined"==typeof a.$?(a.$=artoo.$,artoo.log.warning("jQuery is available but does not have a correct version. The correct version was therefore injected and $ was set since it was not used.")):artoo.log.warning("Either jQuery has not a valid version or another library using $ is already present. Correct version available through `artoo.$`."),b()}):artoo.injectScript(d,function(){artoo.log.info("jQuery was correctly injected into your page (v"+c+")."),artoo.$=jQuery,b()})}}.call(this),function(){"use strict";function a(){artoo.browser.firebug||~console.log.toString().search(/\[native code\]/i)||(["log","info","debug","warn"].forEach(function(a){console[a]=console.__proto__[a]}),artoo.log.warning("The console have been shunted by the website you are visiting. artoo has repaired it."))}artoo.hooks.countermeasures=artoo.hooks.countermeasures.concat([a])}.call(this),function(){"use strict";artoo.cache={},artoo.cache.register=function(a){var b,c=artoo.settings.cache.delimiter,d=c+a+c;return b=function(){return b.get()},b.get=function(a){return a?(artoo.store.get(d)||{})[a]||null:artoo.store.get(d)||{}},b.set=function(a,b){var c=artoo.store.get(d)||{};c[a]=b,artoo.store.set(d,c)},b.remove=function(a){var b=artoo.store.get(d)||{};delete b[a],Object.keys(b).length?artoo.store.set(d,b):artoo.state.clean()},b.clean=function(){artoo.store.remove(d)},b}}.call(this),function(){"use strict";function a(b,c,d,e,f){function g(a){i.settings||c.settings?artoo.$.ajax(i.url||c.url||i,artoo.helpers.extend(i.settings||c.settings,{success:a,data:i.data||c.data||{},type:i.method||c.method||"get"})):artoo.$[i.method||c.method||"get"](i.url||c.url||i,i.data||c.data||{},a)}function h(f){var g=f;return(c.scrape||c.jquerify)&&(f=artoo.helpers.jquerify(f)),c.scrape?g=artoo.scrape(f.find(c.scrape.iterator),c.scrape.data,c.scrape.params):"function"==typeof c.process&&(g=c.process(f,d,e)),g===!1?c.done(e):(c.concat?e=e.concat(g):e.push(g),d++,void(artoo.helpers.isArray(b)&&d===b.length||d===c.limit?c.done(e):a(b,c,d,e,f)))}e=e||[],d=d||0;var i="function"==typeof b?b(d,f):b[d];return i?void(c.throttle>0?setTimeout(g,d?c.throttle:0,h):"function"==typeof c.throttle?setTimeout(g,d?c.throttle(d):0,h):g(h)):c.done(e)}artoo.ajaxSpider=function(b,c,d){var e,f;c=c||{},"function"==typeof c&&(e=c,c={},c.done=e),"function"==typeof d&&(f=artoo.helpers.extend({done:d},c)),a(b,artoo.helpers.extend(f||c,{done:artoo.helpers.noop}))}}.call(this),function(){"use strict";function a(b,c,d){c=c||0;var e=b.canExpand?"string"==typeof b.canExpand?artoo.$(b.canExpand).length>0:b.canExpand(artoo.$):!0;if(!e||c>=b.limit)return void("function"==typeof b.done&&b.done());var f="string"==typeof b.expand?function(){artoo.$(b.expand).simulate("click")}:b.expand;if(b.throttle?setTimeout(f,"function"==typeof b.throttle?b.throttle(c):b.throttle,artoo.$):f(artoo.$),b.isExpanding)if("number"==typeof b.isExpanding)setTimeout(a,b.isExpanding,b,++c);else{var g="string"==typeof b.isExpanding?function(){return artoo.$(b.isExpanding).length>0}:b.isExpanding;artoo.waitFor(function(){return!g(artoo.$)},function(){a(b,++c)},{timeout:b.timeout})}else b.elements?(d=d||artoo.$(b.elements).length,artoo.waitFor(function(){return artoo.$(b.elements).length>d},function(){a(b,++c,artoo.$(b.elements).length)},{timeout:b.timeout})):a(b,++c)}artoo.autoExpand=function(b,c){if(b=b||{},b.done=c||b.done,!b.expand)throw Error("artoo.autoExpand: you must provide an expand parameter.");a(b)}}.call(this),function(){"use strict";artoo.autoScroll=function(a,b){artoo.autoExpand(this.helpers.extend(a,{expand:function(){window.scrollTo(0,document.body.scrollHeight)}}),b)}}.call(this),function(){function a(){Function.prototype.call=function(){if(arguments.length>1&&"evaluate"===this.name&&"InjectedScriptHost"===arguments[0].constructor.name){var a=arguments[1].split("\n").slice(1,-1).join("\n"),b=d.length-1;"this"===a||e.some(function(b){return~a.indexOf(b)})||"artoo"===a||(~a.indexOf(d[b])?d[b]=a:d.push(a))}return c.apply(this,arguments)}}function b(){Function.prototype.call=c}var c=Function.prototype.call,d=[],e=["saveInstructions(",".instructions"];artoo.instructions=function(){return artoo.instructions.get()},artoo.instructions.get=function(){return artoo.browser.chrome||artoo.log.warning("You are not in chrome. artoo is therefore unable to record console's instructions."),d=d.filter(function(a,b){return a!==d[b-1]})},artoo.instructions.getScript=function(){return"// "+window.location+"\n// "+new Date+"\n"+artoo.instructions.get().join("\n\n")+"\n"},artoo.instructions.startRecording=function(){artoo.browser.chrome&&a()},artoo.instructions.stopRecording=function(){artoo.browser.chrome&&b()}}.call(this),function(){"use strict";artoo.navigateTo=function(a){window.location.assign(a)}}.call(this),function(a){"use strict";function b(a){return a[0].documentElement&&a[0].documentElement.outerHTML||a[0].outerHTML}function c(a){return"string"==typeof a?{filename:a}:a||{}}function d(){this.defaultFilename="artoo_data",this.defaultEncoding="utf-8",this.forceDownloadMimeType="application/octet-stream",this.defaultMimeType="text/plain",this.xmlns="http://www.w3.org/1999/xhtml",this.mimeShortcuts={csv:"text/csv",tsv:"text/tab-separated-values",json:"application/json",txt:"text/plain",html:"text/html",yaml:"text/yaml"},this.createBlob=function(a,b,c){return b=this.mimeShortcuts[b]||b||this.defaultMime,new Blob([a],{type:b+";charset="+c||this.defaultEncoding})
},this.createBlobFromDataURL=function(a){var b,c,d=atob(a.split(",")[1]),e=new Uint8Array(d.length);for(b=0,c=d.length;c>b;b++)e[b]=d.charCodeAt(b);return new Blob([e.buffer],{type:a.split(",")[0].split(":")[1].split(";")[0]})},this.blobURL=function(a){var b=g.createObjectURL(a);return b},this.saveResource=function(a,b){var c=document.createElementNS(this.xmlns,"a");c.href=a,c.setAttribute("download",b.filename||""),artoo.$(c).simulate("click"),c=null,b.revoke&&g.revokeObjectURL(a)},this.saveData=function(a,b){b=b||{};var c=this.createBlob(a,b.mime,b.encoding);this.saveResource(this.blobURL(c),{filename:b.filename||this.defaultFilename,revoke:b.revoke||!0})},this.saveDataURL=function(a,b){b=b||{};var c=this.createBlobFromDataURL(a);this.saveResource(c,{filename:b.filename||this.defaultFilename})}}var e=this,f=artoo.helpers,g=e.URL||e.webkitURL||e,h=new d;artoo.save=function(a,b){h.saveData(a,c(b))},artoo.saveJson=function(b,d){d=c(d),"string"!=typeof b?b=d.pretty||d.indent?JSON.stringify(b,a,d.indent||2):JSON.stringify(b):(d.pretty||d.indent)&&(b=JSON.stringify(JSON.parse(b),a,d.indent||2)),artoo.save(b,f.extend(d,{filename:"data.json",mime:"json"}))},artoo.savePrettyJson=function(a,b){b=c(b),artoo.saveJson(a,f.extend(b,{pretty:!0}))},artoo.saveYaml=function(a,b){b=c(b),artoo.save(f.toYAMLString(a),f.extend(b,{filename:"data.yml",mime:"yaml"}))},artoo.saveCsv=function(a,b){b=c(b),a="string"!=typeof a?f.toCSVString(a,b):a,artoo.save(a,f.extend(b,{mime:"csv",filename:"data.csv"}))},artoo.saveTsv=function(a,b){artoo.saveCsv(a,f.extend(c(b),{mime:"tsv",delimiter:"  ",filename:"data.tsv"}))},artoo.saveXml=function(a,d){d=c(d);var e=f.isSelector(a)&&b(a)||f.isDocument(a)&&a.documentElement.outerHTML||a,g=d.type||"xml",h="";if("html"===g&&f.isDocument(a)){var i=a.doctype;i&&(h="<!DOCTYPE "+(i.name||"html")+(i.publicId?' PUBLIC "'+i.publicId+'"':"")+(i.systemId?' "'+i.systemId+'"':"")+">\n")}else("xml"===g||"svg"===g)&&(~e.search(/<\?xml/)||(h='<?xml version="1.0" encoding="'+(d.encoding||"utf-8")+'" standalone="yes"?>\n'));"svg"===g&&(h+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'),artoo.save(h+e,f.extend(d,{mime:"html",filename:"document.xml"}))},artoo.saveHtml=function(a,b){artoo.saveXml(a,f.extend(c(b),{filename:"document.html",type:"html"}))},artoo.savePageHtml=function(a){artoo.saveHtml(document,f.extend(c(a),{filename:"page.html"}))},artoo.saveSvg=function(a,b){b=c(b);var d=artoo.$(a);if(!d.is("svg"))throw Error("artoo.saveSvg: selector is not svg.");artoo.saveXml(d,f.extend(b,{filename:"drawing.svg",type:"svg"}))},artoo.saveStore=function(a){a=c(a),artoo.savePrettyJson(artoo.store.get(a.key),f.extend(a,{filename:"store.json"}))},artoo.saveInstructions=function(a){artoo.save(artoo.instructions.getScript(),f.extend(c(a),{mime:"text/javascript",filename:"artoo_script.js"}))},artoo.saveResource=function(a,b){h.saveResource(a,c(b))},artoo.saveImage=function(a,b){b=c(b);var d=artoo.$(a);if(!d.is("img")&&!d.attr("src"))throw Error("artoo.saveImage: selector is not an image.");var e=f.getExtension(d.attr("src")),g=d.attr("alt");artoo.saveResource(d.attr("src"),f.extend(b,{filename:g?g+(e?"."+e:""):!1}))}}.call(this),function(a){"use strict";function b(b,c){var d,e=artoo.$,f=b.sel?e(c).find(b.sel):e(c);return d="function"==typeof b?b.call(c,e):"function"==typeof b.method?b.method.call(f.get(),e):"string"==typeof b?"function"==typeof f[b]?f[b]():f.attr(b):b.attr!==a?f.attr(b.attr):f[b.method||"text"](),b.defaultValue&&!d&&(d=b.defaultValue),d}function c(a,d,e,f){var g=[],h=!!d.attr||!!d.method||d.scrape||"string"==typeof d||"function"==typeof d;e=e||{};var i;return i=artoo.$("function"==typeof a?a(artoo.$):a),i.each(function(a){var f,i={};if(h)i="object"==typeof d&&"scrape"in d?c($(this).find(d.scrape.iterator),d.scrape.data,d.scrape.params):b(d,this);else for(f in d)i[f]="object"==typeof d[f]&&"scrape"in d[f]?c($(this).find(d[f].scrape.iterator),d[f].scrape.data,d[f].scrape.params):b(d[f],this);return g.push(i),!e.limit||a<e.limit-1}),g=e.one?g[0]:g,"function"==typeof f&&f(g),g}function d(a,b,c,d){var e,f,g,h;return artoo.helpers.isPlainObject(a)&&!artoo.helpers.isSelector(a)&&!artoo.helpers.isDocument(a)&&(a.iterator||a.data||a.params)?(f=a.data,g=artoo.helpers.isPlainObject(a.params)?a.params:{},e=a.iterator):(f=b,g=artoo.helpers.isPlainObject(c)?c:{},e=a),f=f||"text",h="function"==typeof d?d:"function"==typeof c?c:g.done,[e,f,g,h]}artoo.helpers.extend;artoo.scrape=function(a,b,e,f){var g=d(a,b,e,f);if(!g[0]||!g[1])throw TypeError("artoo.scrape: wrong arguments.");return c.apply(this,g)},artoo.scrapeOne=function(a,b,e,f){var g=d(a,b,e,f);return g[2]=artoo.helpers.extend(g[2],{limit:1,one:!0}),c.apply(this,g)},artoo.scrapeTable=function(a,c,d){c=c||{};var e;if(c.headers){var f=c.headers.type||c.headers.method&&"first"||c.headers,g=c.headers.method;if("th"===f)e=artoo.scrape(a+" th",g||"text");else if("first"===f)e=artoo.scrape(a+" tr:has(td):first td",g||"text");else{if(!artoo.helpers.isArray(f))throw TypeError("artoo.scrapeTable: wrong headers type.");e=f}return artoo.scrape(a+" tr:has(td)"+("first"===f?":not(:first)":""),function(){var a={};return e.forEach(function(d,e){a[d]=b(c.data||"text",$(this).find("td:eq("+e+")"))},this),a},c,d)}return artoo.scrape(a+" tr:has(td)",{scrape:{iterator:"td",data:c.data||"text"}},c,d)}}.call(this),function(){"use strict";function a(a){var b=artoo.settings.cache.delimiter;return a.charAt(0)===b&&a.charAt(a.length-1)===b}function b(a){if("local"===a)c=localStorage;else{if("session"!==a)throw Error('artoo.store: wrong engine "'+a+'".');c=sessionStorage}}var c;b(artoo.settings.store.engine),artoo.store=function(a){return artoo.store.get(a)},artoo.store.get=function(a){return a?JSON.parse(c.getItem(a)):artoo.store.getAll()},artoo.store.getAll=function(){var b={};for(var d in c)a(d)||(b[d]=artoo.store.get(d));return b},artoo.store.keys=function(){var a,b=[];for(a in c)b.push(a);return b},artoo.store.set=function(a,b){if("string"!=typeof a&&"number"!=typeof a)throw TypeError("artoo.store.set: trying to set an invalid key.");c.setItem(a,JSON.stringify(b))},artoo.store.pushTo=function(a,b){var c=artoo.store.get(a);if(!artoo.helpers.isArray(c)&&null!==c)throw TypeError("artoo.store.pushTo: trying to push to a non-array.");return c=c||[],c.push(b),artoo.store.set(a,c),c},artoo.store.update=function(a,b){var c=artoo.store.get(a);if(!artoo.helpers.isPlainObject(c)&&null!==c)throw TypeError("artoo.store.update: trying to udpate to a non-object.");return c=artoo.helpers.extend(b,c),artoo.store.set(a,c),c},artoo.store.remove=function(a){c.removeItem(a)},artoo.store.removeAll=function(){for(var b in c)a(b)||c.removeItem(b)},artoo.s=artoo.store,artoo.store.clean=artoo.store.removeAll}.call(this),function(){"use strict";artoo.state=artoo.cache.register("artoo")}.call(this),function(){"use strict";function a(){artoo.settings.eval?(artoo.log.verbose("evaluating and executing the script given to artoo."),eval.call(c,JSON.parse(artoo.settings.eval))):artoo.settings.scriptUrl&&(artoo.log.verbose('executing script at "'+artoo.settings.scriptUrl+'"'),artoo.injectScript(artoo.settings.scriptUrl))}function b(){function a(a){artoo.jquery.inject(function(){artoo.jquery.plugins.map(function(a){a(artoo.$)}),a()})}artoo.hooks.trigger("countermeasures"),artoo.log.welcome(),artoo.settings.log.beeping&&artoo.beep(),artoo.browser.chromeExtension&&artoo.log.verbose("artoo has automatically been injected by the chrome extension."),artoo.settings.instructions.autoRecord&&artoo.instructions.startRecording(),artoo.helpers.parallel([a,artoo.deps.inject],function(){artoo.log.info("artoo is now good to go!"),artoo.settings.autoExec&&artoo.exec(),artoo.hooks.trigger("ready")}),artoo.loaded=!0}var c=this;artoo.dom=document.getElementById("artoo_injected_script"),artoo.dom&&(artoo.loadSettings(JSON.parse(artoo.dom.getAttribute("settings"))),artoo.dom.parentNode.removeChild(artoo.dom)),artoo.browser.chromeExtension=!!artoo.settings.chromeExtension,artoo.hooks.init.unshift(b),artoo.hooks.exec.unshift(a),artoo.init=function(){artoo.hooks.trigger("init")},artoo.exec=function(){artoo.hooks.trigger("exec")},artoo.settings.autoInit&&artoo.init()}.call(this);