/* artoo.js - A client-side scraping toolbelt. - Version: 0.0.1 -  médialab SciencesPo */
(function(){"use strict";var a=this,b={$:null,version:"0.0.1",passphrase:"detoo",jquery:{version:"2.1.0","export":function(){a.ß=b.$}},methods:{}};"undefined"!=typeof this.exports&&("undefined"!=typeof this.module&&this.module.exports&&(this.exports=this.module.exports=b),this.exports.artoo=b),this.artoo=b}).call(this),function(){"use strict";function a(){var a,b,c={},d=arguments.length;for(a=d-1;a>=0;a--)for(b in arguments[a])c[b]=arguments[a][b];return c}function b(a){return(a||"").split(".").reduce(function(a,b){return b in a?a[b]:a[b]={}},_root)}function c(a,b){var c=document.createElement("script"),d=document.getElementsByTagName("head")[0],e=!1;c.src=a,c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,b(),c.onload=c.onreadystatechange=null,d.removeChild(c))},d.appendChild(c)}artoo.helpers={extend:a,getScript:c,pkg:b}}.call(this),function(){"use strict";function a(){return['   .-""-.   ',"  /[] _ _\\  "," _|_o_LII|_ ","/ | ==== | \\","|_| ==== |_|"," ||LI  o ||"," ||'----'||","/__|    |__\\"]}artoo.log=function(){console.log.apply(console,arguments)},artoo.welcome=function(){var b=a();b[b.length-2]=b[b.length-2]+"    artoo",console.log(b.join("\n")+"   v"+artoo.version)}}.call(this),function(){"use strict";function a(a){{var b=artoo.jquery.version,c="//code.jquery.com/jquery-"+b+".min.js",d="undefined"!=typeof jQuery,e=!d&&"function"==typeof $,f=d?jQuery.fn.jquery:"0";"undefined"!=typeof $$&&!!~$$.toString().indexOf("[Command Line API]")}d&&"2"===f.charAt(0)?(artoo.log("jQuery already exists in this page (v"+f+"). No need to load it again."),artoo.$=jQuery,a()):d&&"2"!==f.charAt(0)||e?artoo.helpers.getScript(c,function(){artoo.log("Either jQuery has not a valid version or another library using dollar is already present.\nExporting correct version to ß (or artoo.$)."),artoo.$=jQuery.noConflict(),artoo.jquery.export(),a()}):artoo.helpers.getScript(c,function(){artoo.log("artoo loaded jQuery into your page (v"+b+")."),artoo.$=jQuery,a()})}artoo.inject=a}.call(this),function(){"use strict";function a(a,b){var e=(a.size,document.createElementNS(g,"a")),f=!d.externalHost&&"download"in e;if(this.WRITING=1,this.DONE=2,f){var h=c(a);e.href=h,e.download=b;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,d,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(i),this.readyState=this.DONE}}function b(a,b,c){return b=i[b]||b||f,new Blob(a,{type:b+";charset="+c||e})}function c(a){var b=j.createObjectURL(a);return h.push(b),b}var d=this,e="utf-8",f="application/octet-stream",g="http://www.w3.org/1999/xhtml",h=[],i={csv:"text/csv",json:"application/json"},j=(window.requestFileSystem||window.webkitRequestFileSystem||window.mozRequestFileSystem,d.URL||d.webkitURL||d);artoo.save=function(){},artoo.saveJson=function(){},artoo.saveCsv=function(){},artoo.test=function(c){a(b(c,"json"),"test.json")}}.call(this),function(){"use strict";function a(){artoo.welcome(),artoo.inject(function(){artoo.log("artoo is now good to go!")})}a()}.call(this);